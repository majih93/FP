# Welcome.

함수형 사고가 무엇이고, 함수형 사고가 왜 `더 좋은 소프트웨어를 만들려는 개발자`에게 도움이 되는가?

## 함수형 프로그래밍이란?

함수형 프로그래밍 하면 흔하게 많이 등장하는 개념들이 순수함수, 부수효과 피한다 등등이다.

그런데, 이 맥락에서 부수효과란 많은 경우에 real life 어플리케이션을 만들때 필수적인 기능들인 경우가 많다.

예를 들어, 거의 모든 모던 어플리케이션에 빠지지 않는 부수효과 한 가지는 웹에 request를 보내는 것이다.

이 맥락에서 보면, 단순히 부수효과를 피해야한다는 점만 강조하면 자연스럽게 함수형 프로그래밍의 실용성에 대해서 의문이 생길 것이다.

나도 그렇다. 사실 순수함수가 좋다고 하는 이유도 납득이 되고, 부수효과를 피하는 것이 앱의 더 예측 가능한 코드 작성에 도움이 된다는 것은 알겠다. 하지만 이 개념을 어떻게 실제 프로젝트 코드에 녹여낼지에 대해서는 사실 감이 잘 오지 않는다.

이 책은 함수형 프로그래밍을 학문적인 관점에서 보는 것이 아니라, 코드 어느 곳에서나 적용할 수 있는 개념들 위주로 소개하고자 한다.

## 액션과 계산 그리고 데이터

함수형 프로그래머는 _직감적으로_ 코드를 세 가지로 분류한다고 한다.

1. 액션
2. 계산
3. 데이터

실제 코드를 보자.

```javascript
{
  firstName: "Eric",
  lastName: "Normand"
};

sendEmail(to, from, subject, body)

sum(numbers)

saveUserDB(user)

string_length(str)

getCurrentTime()

[1,2,3,4,5]


```

위 함수들 중에서 어떤 함수들이 호출하는 횟수나, 호출하는 시점이 중요할까?
즉 횟수나 시점에 따라서 기대하는 결과가 달라질까? 로 이해하였다.

아래 함수들일 것이다.

- `sendEmail`
- `saveUserDB`
- `getCurrentTime`

반대로 다른 함수들은 호출하는 횟수나 시점이 중요하지 않다. 즉 호출하는 시점이나 횟수가 결과에 영향을 주지 않는다. 왜? 언제 호출해도 항상 같은 값을 주기 때문에, 나머지 코드나 소프트웨어 외부에 영향을 주지 않는다.

호출하는 횟수나 시점이 중요한 함수들을 바로 액션이라고 분류할 수 있다. `액션`은 부르는 시점에 의존적이다. 그렇기 때문에 정말 필요한 타이밍에 필요한 만큼만 호출되도록 신경써야 한다.

다음으로는, 호출 가능 여부를 기준으로 코드를 분류해보자.

액션이 아닌 코드 중에서, 호출이 가능한 코드가 있고(함수) 아닌 코드가 있다. (이름객체나 숫자 배열)

`계산`과 `데이터`의 차이는 _실행 여부_ 에 있다. 데이터는 정적이고 보이는 그 자체이지만, 계산은 실행하기 전까지는 어떻게 동작할지 알 수 없다.

**이렇게 액션 계산 데이터 3가지를 구분하는 것이 함수형 프로그래밍의 기본 개념이다.**

### 실제 예시를 통해서 액션, 계산, 데이터를 구분해보자.

> 여러 클라이언트가 작업 완료 표시를 하면 서버에서 이메일을 통해 알려주는 서비스를 생각해보자.

**1단계: 사용자가 작업 완료 표시를 함**

UI이벤트인데, 실행 횟수에 의존한다는 점에서 `액션`이다.

왜 실행 횟수에 의존할까? 작업 완료를 표시한 시점에 한 번만 호출되어야 하기 때문에

**2단계: 클라이언트가 서버로 메시지를 전송**

메시지라는 `데이터`를 서버로 전송이라는 `액션`을 통해서 처리

**3단계: 서버가 메시지를 수신**

메시지 수신도 횟수가 중요하므로 `액션`이다.

**4단계: 서버가 데이터베이스의 데이터를 변경**

내부 상태를 바꾸는 것은 `액션`. 횟수가 중요하기 때문이라고 생각됨.

**5단계: 서버가 누구에게 알림을 보낼지 결정**

`계산`이다. 입력값이 동일하다면 아웃풋도 동일하기 때문에.(어떤 클라이언트에게 특정 클라이언트의 작업 완료 표시 여부 이메일을 전송할 것인지는 사전에 정해져있다고 하면)

**6단계: 서버가 이메일을 전송**

`액션`이다. 횟수가 중요하기 때문이다.

## 액션 계산 데이터를 구분하는 것이 어떤 장점이 있나요??

소프트웨어 복잡도가 크게 증가한 요즘에 특히 더 도움이 될 수 있는 사고방식이다.

시간에 따라 바뀌는 값을 모델링하는 것은 쉽지 않은 일이다.

실행 시점이나 횟수에 의존하는 코드를 제한적으로 사용하면 코드를 더 쉽게 이해할 수 있다.

즉, `액션`을 `계산`과 `데이터`로 변경하면 더 이해하기 쉽고 버그 가능성이 적은 코드를 작성할 가능성이 커질 수 있음.

## 요약

이 책에서 크게 다루고자 하는 주제는 두 가지 이다.

- 액션과 계산 그리고 데이터의 구분
- 일급 추상
